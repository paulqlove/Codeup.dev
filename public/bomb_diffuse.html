<!DOCTYPE html>
<html>
<head>
    <title>Disarm the BOM (Browser Object Model)</title>
    <style type="text/css">
        #timer {
            font-size: 60px;
            color: red;

            position: fixed;
            right: 90px;
            top: 0px;
        }
        #btnDefuse {
            position: fixed;
            left: 15px;
            top: 50px;
        }
    </style>
</head>
<body>    <h1>Mission Impossible!</h1>
    
    <div id="timer"></div>
    
    <button id="btnDefuse">Defuse the BOM!</button>
    
    <script>
    // Initialize some variables.  You don't have to change these.
    var count = 0;
    var maxCount = 3;
    var detonationTimer = 10; // seconds
    
    // TODO: Create a variable to represent your setInterval timer,
    //       which will have a one second interval. It should use
    //       the following function

    // TODO: Create a variable whose value is the btnDefuse element.
    var defuseBomb = document.getElementById('btnDefuse');
    // console.log(defuseBomb.innerHTML);
    // console.log(defuseBomb.attributes['id'].value);


    // Main Game Logic.
    function runGame() 
    {
        // Check for timer zero; end game if timer zero.
        if (detonationTimer != 0){
            
            // Continue game.
            detonationTimer--;

            document.getElementById('timer').innerHTML = detonationTimer;

            // console.log(detonationTimer);
        
        } else {
            
            alert('The bomb went off!');
            clearInterval(gameInterval);
        }
        
        // return detonationTimer;
    }

    // Relocate button, and determine if bomb is defused.
    function defuseButtonClick() 
    {
        count++;
        console.log('clicked.');
        console.log(count);
        
        if (count >= maxCount) {
            // TODO: Clear the interval.
            clearInterval(gameInterval);
            // TODO: Alert "You are a hero! You disarmed the BOM!"
            alert('You are a hero! You disarmed the BOM!');
            defuseBomb.removeEventListener('click',defuseButtonClick);
        } else {


            // TODO: Generate the random value for the margin-top css property
            var randomTop = Math.floor(Math.random()*100);
            var buttonThatMoves = document.getElementById('btnDefuse');
            // TODO: Generate the random value for the margin-left css property
            var randomLeft = Math.floor(Math.random()*100);
            
            // TODO: If the count is equal or greater than maxCount
            // TODO: Assign the random margin top to the button
             buttonThatMoves.style.top = randomTop + '%';
            
            // // // TODO: Assign the random margin left to the button
              buttonThatMoves.style.left = randomLeft + '%';
            
            // TODO: Increment the count by one
        }
    }
    
    var gameInterval = setInterval(runGame, 1000); 

    defuseBomb.addEventListener('click', defuseButtonClick, false);
    

    // var gameInterval = function()
    // {   

    //     // TODO: Decrement detonationTimer by one each interval.
    //     var countdown = detonationTimer--;

    //     // TODO: Update the timer div with the new value
    //     document.getElementById('timer').innerHTML = countdown;

    //     // TODO: Console log the current remaining time.
    //     console.log(detonationTimer);      

    //     // TODO: Explode the BOM with an alert if the timer runs out.
    //     if(detonationTimer == 0){
    //         alert('The bomb went off!')
    //     } else {
    //     // TODO: Clear the interval afterwards.
    //     clearInterval(detonationTimer);
    // }
    //     return detonationTimer;
    // }
    
    // Start game
    // gameInterval(detonationTimer);
    
    // TODO: Attach an event listener to that variable, which runs this function when clicked.

   
           
        

    
    // function getRandomInt(min, max)
    // {
        
    // }
    </script>
</body>
</html>